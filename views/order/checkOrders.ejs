<% layout('layouts/boilerplate') %>
<style>
  .table {
    font-size: 1.2rem;

    text-align: center;
  }
  h4 {
    text-align: center;
    font-size: 2.4rem;
    text-decoration: underline black;
    font-weight: 600;
    margin-top: 2rem;
  }
  h1 {
    border: 1px solid rgb(190, 187, 187);
    padding: 0.5rem;
    width: 30rem;
    text-align: center;
    margin: 0 auto;
  }
</style>
<h1>Orders Details Of Placed Order</h1>
<hr />
<% if (myPlacedOrders.length == 0) { %>
<div>
  <h4>No order was placed yet</h4>
</div>
<% } else { %>
<div style="background-color: #f7f1f0">
  <table class="table table-dark table-bordered table-hover">
    <thead>
      <tr>
        <th scope="col">Order Index</th>
        <th scope="col">Product Name</th>
        <th scope="col">Brand</th>
        <th scope="col">Qty</th>
        <th scope="col">Size</th>
        <th scope="col">Price</th>
        <th scope="col">Customer Name</th>
        <th scope="col">Email</th>
        <th scope="col">Phone no</th>
        <th scope="col">Address</th>
        <th scope="col">Payment Method</th>
        <th scope="col">Is Paid?</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% let index = 1; %> <% for (let order of myPlacedOrders) { %>
      <tr>
        <th scope="row"><%= index++ %></th>
        <td><%= order.product.name %></td>
        <td><%= order.product.brand %></td>
        <td><%= order.quantity %></td>
        <td><%= order.selectedSize %></td>
        <td>&#x20b9;<%= order.amount %></td>
        <td><%= order.user.profile.name %></td>
        <td><%= order.user.email %></td>
        <td><%= order.user.profile.phoneNo %></td>
        <td><%= order.user.profile.address %></td>
        <td><%= order.mode %></td>
        <td><%= order.isPaid ? "Done":"Pending" %></td>
        <td>
          <div>
            <a
              href="/sellerAccept/<%= order._id %>"
              class="btn btn-web mb-1"
              >Accept</a
            ><br />
            <a
              href="/sellerReject/<%= order._id %>"
              class="btn btn-outline-danger"
              >Reject</a
            >
          </div>
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>

<% } %>

<hr />
<br /><br />

<h1>Orders Details Of Accepted Order</h1>
<hr />
<% if (myAcceptedOrders.length == 0) { %>
<div>
  <h4>No order was accepted yet</h4>
</div>
<% } else { %>
<div>
  <table class="table table-bordered table-dark table-hover">
    <thead>
      <tr>
        <th scope="col">Order Index</th>
        <th scope="col">Product Name</th>
        <th scope="col">Brand</th>
        <th scope="col">Qty</th>
        <th scope="col">Size</th>
        <th scope="col">Price</th>
        <th scope="col">Customer Name</th>
        <th scope="col">Email</th>
        <th scope="col">Phone no</th>
        <th scope="col">Address</th>
        <th scope="col">Delivery Date</th>
        <th scope="col">Payment Method</th>
        <th scope="col">Is Paid?</th>
        <th scope="col">Is Delivered?</th>
      </tr>
    </thead>
    <tbody>
      <% let index = 1; %> <% for (let order of myAcceptedOrders) { %>
      <tr>
        <th scope="row"><%= index++ %></th>
        <td><%= order.product.name %></td>
        <td><%= order.product.brand %></td>
        <td><%= order.quantity %></td>
        <td><%= order.selectedSize %></td>
        <td>&#x20b9;<%= order.amount %></td>
        <td><%= order.user.profile.name %></td>
        <td><%= order.user.email %></td>
        <td><%= order.user.profile.phoneNo %></td>
        <td><%= order.user.profile.address %></td>
        <td><%= order.delivery_time.toLocaleDateString() %></td>
        <td><%= order.mode %></td>
        <td><%= order.isPaid ? "Done":"Pending" %></td>
        <td>
          <div>
            <a
              class="btn btn-web"
              href="/isDone/<%= order._id %>"
              >Done</a
            >
          </div>
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>

<% } %>

<hr />
